<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <title>회원가입</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="/static/user/css/style.css"/>

  <!-- signup 전용 보강 -->
  <style>
    .signup { position:relative; }
    .signup .page-card { overflow:visible; }

    /* 2열 그리드 */
    .signup .grid-2 { display:grid; gap:14px; grid-template-columns:1fr 1fr; }
    @media (max-width:820px){ .signup .grid-2 { grid-template-columns:1fr; } }

    .signup .field { display:flex; flex-direction:column; gap:6px; }
    .signup label { font-weight:800; font-size:.95rem; }
    .signup input {
      height:44px; padding:0 12px; border:2px solid #000; border-radius:12px;
      transition: box-shadow .15s ease, transform .05s ease;
    }
    .signup input:focus { box-shadow:0 0 0 3px rgba(255,214,10,.45); outline:none; }

    .signup .postal { display:flex; gap:10px; }
    .signup .postal .field:first-child { flex:0 0 200px; }
    @media (max-width:820px){ .signup .postal{flex-direction:column;} .signup .postal .field:first-child{flex:1;} }

    .signup .actions { margin-top:6px; }
    .signup .actions .btn { height:48px; font-size:1rem; }

    /* 주소 레이어(임베드) */
    .addr-layer {
      display:none; position:absolute; inset: 48px 24px auto 24px; /* 카드 내부 위치 */
      border:3px solid #000; border-radius:16px; background:#fff; z-index:50;
      box-shadow: 8px 8px 0 #00d9ff;
    }
    .addr-layer-header {
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      padding:10px 12px; border-bottom:2px dashed #000; background:#fffceb;
      border-radius:13px 13px 0 0;
    }
    .addr-layer-title { font-weight:900; }
    .addr-layer-close { border:2px solid #000; background:#fff; border-radius:10px; padding:6px 10px; cursor:pointer; }
    .addr-layer-body { width:100%; height:420px; }
    @media (max-width:820px){ .addr-layer { inset: 40px 12px auto 12px; } }
  </style>
</head>
<body class="signup">
  <!-- 헤더 -->
  <header class="site-header">
    <div class="brand"><h1>회원가입</h1><p class="subtitle">We don't wanna you</p></div>
    <div class="auth-area">
      <button class="btn ghost" onclick="location.href='/board/list'">← 메인</button>
      <button class="btn ghost" onclick="location.href='/'">← 로그인</button>
    </div>
  </header>

  <!-- 카드 -->
  <div class="container page-card">
    <div class="card-header">
      <div>
        <div class="card-title">회원가입</div>
        <div class="card-sub">필수 항목을 정확히 입력해주세요</div>
      </div>
      <span class="badge">SIGN&nbsp;UP</span>
    </div>
    <div class="divider"></div>

    <!-- 폼 -->
    <form id="formData" class="form" novalidate>
      <!-- 1행: 아이디 / 이메일 -->
      <div class="grid-2">
        <div class="field">
          <label for="user_id">아이디</label>
          <input id="user_id" name="user_id" placeholder="예) user01" required autocomplete="username"/>
        </div>
        <div class="field">
          <label for="user_email">이메일</label>
          <input id="user_email" type="email" name="user_email" placeholder="you@example.com" required autocomplete="email"/>
        </div>
      </div>

      <!-- 2행: 주소1(검색 버튼 포함) / 주소2 -->
      <div class="grid-2">
        <div class="field">
          <label for="user_addr1">주소1</label>
          <div style="display:flex; gap:8px;">
            <input id="user_addr1" name="user_addr1" placeholder="도로명 주소" required style="flex:1;"/>
            <button type="button" class="btn soft" id="btnFindAddr">주소 검색</button>
          </div>
        </div>
        <div class="field">
          <label for="user_addr2">주소2</label>
          <input id="user_addr2" name="user_addr2" placeholder="상세 주소(동/호수 등)"/>
        </div>
      </div>

      <!-- 3행: 우편번호 + 생년월일 -->
      <div class="postal">
        <div class="field">
          <label for="user_post">우편번호</label>
          <input id="user_post" name="user_post" inputmode="numeric" pattern="[0-9]{5}" maxlength="5" placeholder="5자리" required/>
        </div>
        <div class="field" style="flex:1">
          <label for="user_birth">생년월일</label>
          <input id="user_birth" name="user_birth" type="date" placeholder="YYYY-MM-DD" required/>
        </div>
      </div>

      <!-- 4행: 비밀번호(풀폭) -->
      <div class="field" style="margin-top:6px;">
        <label for="user_pw">비밀번호</label>
        <input id="user_pw" name="user_pw" type="password" placeholder="8자 이상 (문자/숫자 조합 권장)" minlength="8" required autocomplete="new-password"/>
      </div>

      <!-- 제출 -->
      <div class="actions">
        <button class="btn primary gradient block" type="submit">가입하기</button>
      </div>
    </form>

    <!-- 주소 레이어 (임베드 영역) -->
    <div id="postcodeLayer" class="addr-layer" role="dialog" aria-modal="true" aria-label="도로명 주소 검색">
      <div class="addr-layer-header">
        <span class="addr-layer-title">도로명 주소 검색</span>
        <button type="button" class="addr-layer-close" aria-label="닫기">닫기 ✕</button>
      </div>
      <div class="addr-layer-body"><!-- daum.Postcode 임베드 --></div>
    </div>
  </div>

  <!-- 카카오 우편번호 -->
   <script src="/static/user/js/signup.js"></script>
  <script script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <!-- 주소 레이어 유틸 (경로 주의!) -->
  <script type="module">
    import { bindPostcodeLayer } from "/static/user/js/addr.js";
    bindPostcodeLayer({
      buttonId: "btnFindAddr",     // 버튼 id
      layerId : "postcodeLayer",   // 레이어 id
      addrId  : "user_addr1",      // 도로명주소 input id
      postId  : "user_post"        // 우편번호 input id
    });
  </script>
</body>
</html>
