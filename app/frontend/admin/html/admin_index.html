<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>관리자 대시보드</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 관리자 전용 -->
  <link rel="stylesheet" href="/app/frontend/admin/css/admin.css" />
</head>
<body>
  <!-- 헤더 -->
  <header class="site-header">
  <!-- 마스코트 기차 (그룹) -->
  <div class="mascot-train">
    <!-- 보노보노 - 구르는 효과 -->
    <div class="mascot-item rolling-mascot">
      <img src="/app/frontend/admin/image/rolling_mascot.png" alt="보노보노" />
    </div>
    
    <!-- 포로리 - 걷는 효과 -->
    <div class="mascot-item walking-mascot-1">
      <img src="/app/frontend/admin/image/squirrel.png" alt="포로리" />
    </div>
    
    <!-- 너부리 - 걷는 효과 -->
    <div class="mascot-item walking-mascot-2">
      <img src="/app/frontend/admin/image/raccoon.png" alt="너부리" />
    </div>
  </div>

    <div class="brand">
      <h1>관리자 대시보드</h1>
      <p class="subtitle">We don't wanna you</p>
    </div>
    <div class="auth-area">
      <button class="btn ghost" onclick="location.href='/app/frontend/user/html/index.html'">← 사용자 메인</button>
      <button class="btn danger" id="adminLogout">로그아웃</button>
    </div>
  </header>

  <!-- 메인 카드 -->
  <main class="admin-shell">
    <section class="admin-card card">
      <!-- 탭 -->
      <nav class="admin-seg">
        <button class="admin-seg__btn is-active" data-tab="users">유저 관리</button>
        <button class="admin-seg__btn" data-tab="posts">게시글 관리</button>
      </nav>

      <!-- 유저 관리 -->
      <div id="admin-tab-users" class="admin-tab-panel is-active">
        <div class="panel-header">
          <h3 class="panel-title">유저 관리</h3>
          <button class="btn admin" id="btnAddUser">➕ 유저 추가</button>
        </div>
        <div class="admin-tablewrap">
          <table class="admin-table">
            <thead>
              <tr>
                <th>no_seq</th>
                <th>user_id</th>
                <th>email</th>
                <th>주소</th>
                <th>상태</th>
                <th>액션</th>
              </tr>
            </thead>
            <tbody id="userTbody"></tbody>
          </table>
        </div>
      </div>

      <!-- 게시글 관리 -->
      <div id="admin-tab-posts" class="admin-tab-panel">
        <div class="panel-header">
          <h3 class="panel-title">게시글 관리</h3>
          <button class="btn admin" id="btnAddNotice">📢 공지 작성</button>
        </div>
        <div class="admin-tablewrap">
          <table class="admin-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>제목</th>
                <th>작성자</th>
                <th>작성일</th>
                <th>조회수</th>
                <th>상단고정</th>
                <th>액션</th>
              </tr>
            </thead>
            <tbody id="postTbody"></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <!-- 마스코트 -->
  <aside class="admin-mascot admin-mascot--left">
    <img src="/app/frontend/admin/image/mascot_sub.png" alt="좌측 마스코트" />
  </aside>
  <aside class="admin-mascot admin-mascot--right">
    <img src="/app/frontend/admin/image/mascot.png" alt="우측 마스코트" />
  </aside>

  <!-- ========== 모달: 유저 추가 ========== -->
  <dialog id="modalAddUser" class="modal">
    <div class="modal-body">
      <h3>새 유저 추가</h3>
      <form id="formAddUser" class="form">
        <label>아이디 *</label>
        <input type="text" name="user_id" required placeholder="영문+숫자 조합" />
        
        <label>비밀번호 *</label>
        <input type="password" name="user_pw" required placeholder="8자 이상" />
        
        <label>이메일 *</label>
        <input type="email" name="user_email" required placeholder="user@example.com" />
        
        <label>주소1</label>
        <input type="text" name="user_addr1" placeholder="시/도" />
        
        <label>주소2</label>
        <input type="text" name="user_addr2" placeholder="상세주소" />
        
        <div class="modal-actions">
          <button type="button" class="btn ghost" onclick="modalAddUser.close()">취소</button>
          <button type="submit" class="btn admin">추가</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- ========== 모달: 유저 정보 수정 ========== -->
  <dialog id="modalEditUser" class="modal">
    <div class="modal-body">
      <h3>유저 정보 수정</h3>
      <form id="formEditUser" class="form">
        <input type="hidden" name="no_seq" />
        
        <label>아이디 (읽기전용)</label>
        <input type="text" name="user_id" readonly style="background:#e5e7eb" />
        
        <label>이메일</label>
        <input type="email" name="user_email" />
        
        <label>주소1</label>
        <input type="text" name="user_addr1" />
        
        <label>주소2</label>
        <input type="text" name="user_addr2" />
        
        <div class="modal-actions">
          <button type="button" class="btn ghost" onclick="modalEditUser.close()">취소</button>
          <button type="submit" class="btn admin">저장</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- ========== 모달: 비밀번호 변경 ========== -->
  <dialog id="modalChangePw" class="modal">
    <div class="modal-body">
      <h3>비밀번호 변경</h3>
      <form id="formChangePw" class="form">
        <input type="hidden" name="no_seq" />
        
        <label>대상 아이디</label>
        <input type="text" name="user_id" readonly style="background:#e5e7eb" />
        
        <label>새 비밀번호 *</label>
        <input type="password" name="new_pw" required placeholder="8자 이상" />
        
        <label>비밀번호 확인 *</label>
        <input type="password" name="confirm_pw" required placeholder="다시 입력" />
        
        <div class="modal-actions">
          <button type="button" class="btn ghost" onclick="modalChangePw.close()">취소</button>
          <button type="submit" class="btn admin">변경</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- ========== 모달: 공지 작성 ========== -->
  <dialog id="modalAddNotice" class="modal">
    <div class="modal-body">
      <h3>공지사항 작성</h3>
      <form id="formAddNotice" class="form">
        <label>제목 *</label>
        <input type="text" name="title" required placeholder="공지 제목" />
        
        <label>내용 *</label>
        <textarea name="content" required rows="8" placeholder="공지 내용을 입력하세요" style="resize:vertical; padding:12px; border:1px solid #E5E7EB; border-radius:12px; background:#F3F4F6;"></textarea>
        
        <label style="display:flex; align-items:center; gap:8px; margin-top:8px;">
          <input type="checkbox" name="is_pinned" />
          <span>상단고정</span>
        </label>
        
        <div class="modal-actions">
          <button type="button" class="btn ghost" onclick="modalAddNotice.close()">취소</button>
          <button type="submit" class="btn admin">작성</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- ========== 모달: 게시글 수정 ========== -->
  <dialog id="modalEditPost" class="modal">
    <div class="modal-body">
      <h3>게시글 수정</h3>
      <form id="formEditPost" class="form">
        <input type="hidden" name="id" />
        
        <label>제목 *</label>
        <input type="text" name="title" required />
        
        <label>내용 *</label>
        <textarea name="content" required rows="8" style="resize:vertical; padding:12px; border:1px solid #E5E7EB; border-radius:12px; background:#F3F4F6;"></textarea>
        
        <div class="modal-actions">
          <button type="button" class="btn ghost" onclick="modalEditPost.close()">취소</button>
          <button type="submit" class="btn admin">저장</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- ========== 모달: 유저 상세 조회 ========== -->
  <dialog id="modalUserDetail" class="modal">
    <div class="modal-body">
      <h3>유저 상세 정보</h3>
      <div id="userDetailContent" style="line-height:1.8; color:#374151;">
        <!-- 동적으로 채워짐 -->
      </div>
      <div class="modal-actions" style="justify-content:center; margin-top:16px;">
        <button type="button" class="btn admin" onclick="modalUserDetail.close()">닫기</button>
      </div>
    </div>
  </dialog>

  <!-- ========== 모달: 게시글 상세 조회 ========== -->
  <dialog id="modalPostDetail" class="modal">
    <div class="modal-body">
      <h3>게시글 상세</h3>
      <div id="postDetailContent" style="line-height:1.8; color:#374151;">
        <!-- 동적으로 채워짐 -->
      </div>
      <div class="modal-actions" style="justify-content:center; margin-top:16px;">
        <button type="button" class="btn admin" onclick="modalPostDetail.close()">닫기</button>
      </div>
    </div>
  </dialog>

  <!-- 관리자 JS -->
  <script src="/app/frontend/admin/js/admin_app.js"></script>
</body>

</html>

